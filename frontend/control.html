<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>控制台</title>
    <link rel="stylesheet" type="text/css" href="./control.css">
    <script src="./manage/announcements.js" defer></script>
    <script src="./manage/users.js" defer></script>
    <script src="./manage/records.js" defer></script>  
    <script>        
        function goBack() {
            window.history.back(); // 返回上一頁
        }
        window.onload = function() {
            fetchAnnouncements(); // 確保在頁面加載時獲取公告
            fetchUsers(); // 確保在頁面加載時獲取使用者
            fetchRecords(); // 確保在頁面加載時獲取打卡紀錄
        };
    </script>
</head>
<body>
    <div class="container">
        <h1>控制台</h1>
        
        <h2>發佈公告</h2>
        <input type="text" id="title" placeholder="公告標題" required>
        <textarea id="content" placeholder="公告內容" required></textarea>
        <button onclick="postAnnouncement()">發佈公告</button>

        <h2>現有公告</h2>
        <ul id="announcements-list"></ul>
        
        <h2>管理使用者</h2>
        <input type="text" id="username" placeholder="使用者名稱" required>
        <input type="password" id="password" placeholder="使用者密碼" required> <!-- 新增密碼欄位 -->
        <button onclick="postUser()">添加使用者</button>
        <ul id="users-list"></ul>

        <h2>打卡紀錄</h2>
        <ul id="records-list"></ul>

        <button onclick="goBack()">返回</button>
    </div>
</body>
</html>
