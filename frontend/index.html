<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>打卡系統</title>
    <!-- 引入 Bootstrap 和 Google Fonts -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="./indexjs/auth.js" defer></script>
    <script src="./indexjs/clock.js" defer></script>
    <script src="./indexjs/records.js" defer></script>
    <script src="./indexjs/announcements.js" defer></script>
</head>
<body>
<div class="site-wrapper">

    <div class="site-wrapper-inner">

        <div class="cover-container">

            <header class="masthead clearfix">
                <div class="inner">
                    <h3 class="masthead-brand">打卡系統</h3>
                    <nav class="nav nav-masthead">
                        <a class="nav-link active" href="#" onclick="showAuthForm()">登入/註冊</a>
                        <a class="nav-link" href="#" onclick="showClockInOut()">打卡功能</a>
                        <a class="nav-link" href="#" onclick="showRecords()">查詢打卡記錄</a>
                        <a class="nav-link" href="#" onclick="showAnnouncements()">公告</a>
                    </nav>
                </div>
            </header>

            <main role="main" class="inner cover">
                <!-- 用戶登入/註冊 -->
                <div id="auth-form">
                    <h2>用戶登入/註冊</h2>
                    <form>
                        <div class="form-group">
                            <input type="text" id="username" class="form-control" placeholder="請輸入用戶名" required>
                        </div>
                        <div class="form-group">
                            <input type="password" id="password" class="form-control" placeholder="請輸入密碼" required>
                        </div>
                        <button type="button" class="btn btn-primary" onclick="authenticate('login')">登入</button>
                        <button type="button" class="btn btn-secondary" onclick="authenticate('register')">註冊</button>
                    </form>
                </div>

                <!-- 打卡功能 -->
                <div id="clock-form" class="d-none">
                    <h2>打卡功能</h2>
                    <form>
                        <div class="form-group">
                            <input type="text" id="user" class="form-control" placeholder="請輸入用戶名" required>
                        </div>
                        <button type="button" class="btn btn-success" onclick="clockIn()">上班打卡</button>
                        <button type="button" class="btn btn-danger" onclick="clockOut()">打卡下班</button>
                    </form>
                </div>

                <!-- 查詢打卡記錄 -->
                <div id="records-list" class="d-none">
                    <h2>查詢打卡記錄</h2>
                    <ul id="records" class="list-group mb-4"></ul>
                </div>

                <!-- 控制台公告 -->
                <div id="announcements" class="d-none">
                    <h2>公告</h2>
                    <ul id="announcement-list" class="alert alert-secondary"></ul>
                </div>
            </main>

            <footer class="mastfoot">
                <div class="inner">
                    <p>打卡系統由 <a href="https://getbootstrap.com/">Bootstrap</a> 提供支持.</p>
                </div>
            </footer>

        </div>

    </div>

</div>

<script>
    // 顯示用戶登入/註冊表單
    function showAuthForm() {
        $('#auth-form').show(); // 顯示登入註冊區域
        $('#clock-form, #records-list, #announcements').hide(); // 隱藏其他區域
    }

    // 顯示打卡功能表單
    function showClockInOut() {
        $('#clock-form').show(); // 顯示打卡功能區域
        $('#auth-form, #records-list, #announcements').hide(); // 隱藏其他區域
    }

    // 顯示查詢打卡記錄
    function showRecords() {
        $('#records-list').show(); // 顯示查詢打卡記錄區域
        $('#auth-form, #clock-form, #announcements').hide(); // 隱藏其他區域
        fetchRecords(); // 獲取打卡記錄
    }

    // 顯示公告
    function showAnnouncements() {
        $('#announcements').show(); // 顯示公告區域
        $('#auth-form, #clock-form, #records-list').hide(); // 隱藏其他區域
        fetchAnnouncements(); // 獲取公告
    }

    // 模擬登入/註冊函數
    function authenticate(action) {
        const username = $('#username').val();
        const password = $('#password').val();
        if (action === 'login') {
            alert(`登入：用戶名: ${username}, 密碼: ${password}`);
            // 在這裡添加實際的登入邏輯
        } else if (action === 'register') {
            alert(`註冊：用戶名: ${username}, 密碼: ${password}`);
            // 在這裡添加實際的註冊邏輯
        }
    }

    // 上班打卡
    function clockIn() {
        const user = $('#user').val();
        alert(`上班打卡成功：用戶名: ${user}`);
        // 在這裡添加實際的上班打卡邏輯
    }

    // 下班打卡
    function clockOut() {
        const user = $('#user').val();
        alert(`下班打卡成功：用戶名: ${user}`);
        // 在這裡添加實際的下班打卡邏輯
    }

    // 獲取打卡記錄
    function fetchRecords() {
        const recordsList = $('#records');
        recordsList.empty(); // 清空打卡記錄

        // 模擬打卡記錄（這裡應替換為實際的資料請求）
        const records = [
            { user: 'User1', time: '2024-10-12 09:00:00', type: '上班' },
            { user: 'User2', time: '2024-10-12 17:00:00', type: '下班' },
        ];

        records.forEach(record => {
            recordsList.append(`<li class="list-group-item">${record.user} - ${record.time} - ${record.type}</li>`);
        });
    }

    // 獲取公告
    function fetchAnnouncements() {
        const announcementList = $('#announcement-list');
        announcementList.empty(); // 清空公告

        // 模擬公告（這裡應替換為實際的資料請求）
        const announcements = [
            '2024-10-12：系統維護通知。',
            '2024-10-10：打卡功能已更新。',
        ];

        announcements.forEach(announcement => {
            announcementList.append(`<li>${announcement}</li>`);
        });
    }

    // 預設顯示登入/註冊表單
    $(document).ready(function() {
        showAuthForm();
    });
</script>
</body>
</html>
